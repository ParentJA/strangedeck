<!doctype html>

<html ng-app="ninetynine">

<head>
	<meta charset="utf-8">
	<title>Ninetynine</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet" media="screen">
	<link href="/static/strangedeck/css/flatly.min.css" rel="stylesheet" media="screen">
	<link href="/static/strangedeck/css/magic.min.css" rel="stylesheet" media="screen">
	<link href="/static/ninetynine/css/styles.css" rel="stylesheet" media="screen">
	<link href="/static/ninetynine/css/deck.css" rel="stylesheet" media="screen">

	<style>
		.magictime.slideDownRetourn {
			-webkit-animation-duration: 0.25s;
			-moz-animation-duration: 0.25s;
			-o-animation-duration: 0.25s;
			animation-duration: 0.25s;
		}
	</style>
</head>

<body ng-controller="ninetynineController">
	{% verbatim %}
		<div id="game-over-modal" class="modal fade">
			<div class="modal-dialog modal-sm">
				<div class="modal-content">
					<div class="modal-body">
						<img id="winner-img" class="media-object img-circle modal-image">
						<p id="winner-name">Nina Craig Wins!</p>
						<button class="btn btn-primary" type="button" data-dismiss="modal">Continue</button>
					</div>
				</div>
			</div>
		</div>
	{% endverbatim %}

	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar-content">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">STRANGE DECK</a>
			</div>
			<div id="navbar-content" class="collapse navbar-collapse">
				<ul class="nav navbar-nav">

				</ul>
			</div>
		</div>
	</nav>

	<div class="container">
		<!-- Computer -->
		{% verbatim %}
			<div class="col-md-3">
				<div id="player1-panel" class="panel panel-default player-panel">
					<div class="panel-body">
						<div class="media">
							<div class="media-body">
								<h4 class="media-heading" ng-bind="data.game.getPlayer(0).name()"></h4>
								Wins: 0
							</div>
							<div class="media-right">
								<a href="#">
									<img class="media-object img-circle panel-image"
										 ng-src="/static/strangedeck/img/{{data.game.getPlayer(0).photo()}}">
								</a>
							</div>
						</div>
						<div class="hand"></div>
					</div>
				</div>
			</div>
		{% endverbatim %}

		<!-- Piles -->
		{% verbatim %}
			<div class="col-md-6">
				<div id="piles">
					<div id="draw-pile" class="card card-back card-blue"></div>
					<div id="score-display">
						<div>
							<p>Score</p>
							<p id="score-text">0</p>
						</div>
					</div>
					<div id="play-pile" class="card">
						<div id="bottom-card" class="card"></div>
						<div id="top-card" class="card"></div>
					</div>
				</div>
			</div>
		{% endverbatim %}

		<!-- Player -->
		{% verbatim %}
			<div class="col-md-3">
				<div id="player2-panel" class="panel panel-default player-panel">
					<div class="panel-body">
						<div class="media">
							<div class="media-left">
								<a href="#">
									<img class="media-object img-circle panel-image" 
										 ng-src="/static/strangedeck/img/{{data.game.getPlayer(1).photo()}}">
								</a>
							</div>
							<div class="media-body" style="text-align: right;">
								<h4 class="media-heading" ng-bind="data.game.getPlayer(1).name()"></h4>
								Wins: 0
							</div>
						</div>
						<div class="hand"></div>
					</div>
				</div>
			</div>
		{% endverbatim %}
	</div>

	<script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.12/angular.min.js"></script>
	<script src="/static/ninetynine/js/deck.js"></script>
	<script src="/static/ninetynine/js/game.js"></script>

	<script>
		function ninetynineController($scope) {
			$scope.data = {
				game: null
			};

			$scope.randomPlayer = function(isComputer) {
				var players = [{
					name: "Austin Spencer",
					url: "austin_spencer.jpg"
				}, {
					name: "Krin Alvarez",
					url: "krin_alvarez.jpg"
				}, {
					name: "Nina Craig",
					url: "nina_craig.jpg"
				}, {
					name: "Randy Adams",
					url: "randy_adams.jpg"
				}, {
					name: "Tina Thomas",
					url: "tina_thomas.jpg"
				}, {
					name: "Vincent Ellis",
					url: "vincent_ellis.jpg"
				}];

				var player = players[Math.floor(Math.random() * players.length)];

				return new Player(player.name, player.url, isComputer);
			};

			$scope.anonymousPlayer = function() {
				var players = [{
					name: "Anonymous",
					url: "anonymous_male.jpg"
				}, {
					name: "Anonymous",
					url: "anonymous_female.jpg"
				}];

				var player = players[Math.floor(Math.random() * players.length)];

				return new Player(player.name, player.url, false);
			};

			$scope.createGame = function() {
				var game = new Game();
				game.addPlayer($scope.randomPlayer(true));
				game.addPlayer($scope.anonymousPlayer());

				return game;
			};

			function init() {
				$scope.data.game = $scope.createGame();
			}

			init();
		}

		ninetynineController.$inject = ["$scope"];

		var ninetynine = angular.module("ninetynine", []).controller("ninetynineController", ninetynineController);
	</script>
</body>

</html>